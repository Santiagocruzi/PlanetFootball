<html>
  <head>
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"
      type="text/css"
      media="screen"

      
    />
    <link rel="stylesheet" href="styles.css">
  </head>

  <body>

    <center>
      <ul class="navbar">
        <li><a href="home.html">Home</a></li>
        <li><a href="fixtures.html">World Fixtures</a></li>
        <li><a href="Live Scores.html">Live Scores</a></li>
      </ul>
      </center>


    <div class="container" style = "padding: 50px">
      <div class="row">
        <div class="col-xs-12 text-center" style="height: 100px">
          <h1 style= "font-weight: bold;">Bundesliga Statistics</h1>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-4 text-center" style="height: 70px; background-color: #D1D1D1;">
          <h3 style= "font-weight: bold;">Top Scorers</h3>
        </div>
        <div class="col-xs-4 text-center" style="height: 70px; background-color: #D1D1D1">
            <h3 style= "font-weight: bold;">Top Assistors</h3>
          </div>
          <div class="col-xs-4 text-center" style="height: 70px; background-color: #D1D1D1">
            <h3 style= "font-weight: bold;">Top Red Cards</h3>
          </div>
      </div>
      <div class="row">
        <div class="col-xs-4" id="left" style="height: 200px">
          left
        </div>
        <div class="col-xs-4" id="center" style="height: 200px">
          Center
        </div>
        <div class="col-xs-4" id="right" style="height: 200px">
          Right
        </div>
      </div>
    </div>

    <div id="hello"></div>

    <script>
        
        
      const options = {
        method: "GET",
        headers: {
          "X-RapidAPI-Host": "api-football-v1.p.rapidapi.com",
          "X-RapidAPI-Key":
            "2e0ed02540msh029bc5074b67080p111b24jsn4c0bccc080fa",
        },
      };

      fetch(
        "https://api-football-v1.p.rapidapi.com/v3/players/topscorers?league=78&season=2021",
        options
      )
        .then((response) => response.json())
        .then((response) => {
          topScorers = [];
          dict = {}

          for (let i = 0; i < response.response.length; i++) {
            topScorers.push(response.response[i].player.photo);
            topScorers.push(response.response[i].player.name);
            topScorers.push(response.response[i].statistics[0].goals.total);
            dict[response.response[i].player.name] = response.response[i].statistics[0].goals.total

            console.log(dict)
          }

          console.log(topScorers);

          var myTable =
          "<table class = 'statsTable'>" + "<tr>" + "<td style = 'padding: 5; text-align: center'><b>Player</td>" + "<td style = 'padding: 5; text-align: center'><b>Goals</td>" + "</tr>"

          for (let i = 0; i < topScorers.length; i = i + 3) {
            myTable +=
            "<tr><td style = 'padding: 5; text-align: center'>" + '<img src = "' + topScorers[i] + '" alt = "playerImage" width = "50" height = "50">' + "</td>" + "<td>" + topScorers[i + 1] + "</td>" + "<td style = 'padding: 5; text-align: center'>" + topScorers[i + 2] + "</td></tr>"
          }

          myTable += "</table>";

          document.getElementById("left").innerHTML = myTable;
        })
        .catch((err) => console.error(err));

      fetch(
        "https://api-football-v1.p.rapidapi.com/v3/players/topassists?league=78&season=2021",
        options
      )
        .then((response) => response.json())
        .then((response) => {
          topAssisters = [];
          dict = {}

          for (let i = 0; i < response.response.length; i++) {
            topAssisters.push(response.response[i].player.photo);
            topAssisters.push(response.response[i].player.name);
            topAssisters.push(response.response[i].statistics[0].goals.assists);
            dict[response.response[i].player.name] = response.response[i].statistics[0].goals.total

            console.log(dict)
          }

          console.log(topAssisters);

          var assistTable =
            "<table class = 'statsTable'>" + "<tr>" + "<td style = 'padding: 5; text-align: center'><b>Player</td>" + "<td style = 'padding: 5; text-align: center'><b>Assists</td>" + "</tr>"

          for (let i = 0; i < topAssisters.length; i = i + 3) {
            assistTable +=
            "<tr><td style = 'padding: 5; text-align: center'>" + '<img src = "' + topAssisters[i] + '" alt = "playerImage" width = "50" height = "50">' + "</td>" + "<td>" + topAssisters[i + 1] + "</td>" + "<td style = 'padding: 5; text-align: center'>" + topAssisters[i + 2] + "</td></tr>"
          }

          assistTable += "</table>";

          document.getElementById("center").innerHTML = assistTable;
        })
        .catch((err) => console.error(err));

      fetch(
        "https://api-football-v1.p.rapidapi.com/v3/players/topredcards?league=78&season=2021",
        options
      )
        .then((response) => response.json())
        .then((response) => {
          topRed = [];
          dict = {}

          for (let i = 0; i < response.response.length; i++) {
            topRed.push(response.response[i].player.photo);
            topRed.push(response.response[i].player.name);
            topRed.push(response.response[i].statistics[0].cards.red);
            dict[response.response[i].player.name] = response.response[i].statistics[0].goals.total

            console.log(dict)
          }

          console.log(topRed);

          var redTable =
          "<table class = 'statsTable'>" + "<tr>" + "<td style = 'padding: 5; text-align: center'><b>Player</td>" + "<td style = 'padding: 5; text-align: center'><b>Reds</td>" + "</tr>"

          for (let i = 0; i < topRed.length; i = i + 3) {
            redTable += "<tr><td style = 'padding: 5; text-align: center'>" + '<img src = "' + topRed[i] + '" alt = "playerImage" width = "50" height = "50">' + "</td>" + "<td>" + topRed[i + 1] + "</td>" + "<td style = 'padding: 5; text-align: center'>" + topRed[i + 2] + "</td></tr>"
          }

          redTable += "</table>";

          document.getElementById("right").innerHTML = redTable;
        })
        .catch((err) => console.error(err));

        
    </script>
  </body>
</html>
